<div id="submission-timeline">
  <ng-template #noSubmission>
    <nz-empty nzNotFoundImage="simple"></nz-empty>
  </ng-template>
  <nz-timeline nzReverse="reverse" *ngIf="submissions.length; else noSubmission">
    <ng-template #submissionTimeLineItem let-submission="submission">
      <nz-timeline-item [nzColor]="submission.verdict.color">
        <nz-tag>#{{ submission.id }}</nz-tag>
        <nz-tag [nzColor]="submission.verdict.color"
                nz-tooltip [nzTooltipTitle]="submission.verdict.explain">
          {{ submission.verdict.name }}
          <span *ngIf="getSubmissionPct(submission) as pct"> {{ pct }}%</span>
          <span *ngIf="failedOnSample(submission)">*</span>
        </nz-tag>
        <span style="float: right;">
          <nz-tag *ngIf="getSubmissionStats(submission) as stats">{{ stats }}</nz-tag>
          <nz-tag>{{ submission.language.name }} {{ submission.codeBytes }} bytes</nz-tag>
          <nz-tag>{{ submission.createdAt.format('YYYY-MM-DD HH:mm') }}</nz-tag>
        </span>
      </nz-timeline-item>
    </ng-template>
    <ng-container *ngFor="let submission of submissions">
      <ng-container *ngTemplateOutlet="submissionTimeLineItem; context: {submission: submission}"></ng-container>
    </ng-container>
  </nz-timeline>
</div>
