<nz-skeleton *ngIf="!submissions"></nz-skeleton>
<div id="submission-timeline" *ngIf="submissions">
  <ng-template #noSubmission>
    <nz-empty nzNotFoundImage="simple"></nz-empty>
  </ng-template>
  <nz-timeline nzReverse="reverse" *ngIf="submissions.length; else noSubmission">
    <ng-template #submissionTimeLineItem let-submission="submission">
      <nz-timeline-item [nzColor]="submission.verdict.color">
        <nz-tag>#{{ submission.id }}</nz-tag>
        <nz-tag [nzColor]="submission.verdict.color"
                nz-tooltip [nzTooltipTitle]="submission.verdict.explain">
          <app-submission-verdict [submission]="submission"></app-submission-verdict>
        </nz-tag>
        <span style="float: right;">
          <nz-tag>{{ submission.language.name }}</nz-tag>
          <nz-tag>{{ submission.createdAt.format('YYYY-MM-DD HH:mm') }}</nz-tag>
          <button nz-button nzType="link" nzSize="small" (click)="viewSubmissionDetail(submission)">View</button>
        </span>
      </nz-timeline-item>
    </ng-template>
    <ng-container *ngFor="let submission of submissions">
      <ng-container *ngTemplateOutlet="submissionTimeLineItem; context: {submission: submission}"></ng-container>
    </ng-container>
  </nz-timeline>
</div>
